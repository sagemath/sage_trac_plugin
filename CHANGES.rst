1.0.0 (unreleased)
==================

* Added new `GenericTableProvider` Component.  This is a mixin-class that
  should not be used directly, and provides some convenience boilerplate
  methods that implement `IEnvironmentSetupParticipant` for plugins that
  provide new tables to the database and/or may require schema updates.

* Updated the `GitMerger` and `SshKeysPlugin` classes to use
  `GenericTableProvider`.

* The `SshKeysPlugin` now provides its own table just for SSH keys, instead
  of using the `UserDataStore` Component.  The `UserDataStore` Component is
  now deprecated.

* Renamed the `TicketBranch` Component to `TicketBox`, which now provides
  all customization of the ticket box UI (previously this only applying
  styling to the "branch" field on tickets, but now component also handles
  additional customization that was previously only provided by hand-edited
  copy of the `ticket_box.html` template).

* Improved performance on loading ticket pages with newly added branches.
  The merge previews are no longer generated on ticket page load.  Instead,
  the "branch" link does not go directly to the Git browser, but instead
  goes through a `/git-merger` URL on the Trac site, which handles generating
  the merge preview, and subsequently redirects to it.  This should help
  reduce server load caused by loading many tickets with new or outdated
  branches simultaneously.

* Improved handling the case where an old merge commit has been purged from
  the repository, and a ticket's diff can no longer be viewed / has to be
  regenerated by adding a new commit to the branch.

* Fixed more bugs with management of the gitolite-admin repository clone, in
  particular during Environment startup.

* Fixed crashes that could occur in the unlikely case that the configured
  master branch for the repository does not actually exist in the
  repository.


0.3.3 (2016-07-08)
==================

* Re-clone the gitolite-admin repository if an improperly shut down process
  left in an inconsistent state--this was causing initialization of the
  plugin to fail in some cases.


0.3.2 (2016-07-05)
==================

* Improved the SSH key plugin to use the Trac environment API for creating/
  upgrading the database table use by the plugin.

* Added validation for SSH keys entered by users--invalid keys will no longer
  be saved, either in the Trac database or in gitolite, and the user will be
  properly warned.


0.3.1 (2016-07-05)
==================

* Use ``recursive`` merge strategy with ``ours`` option instead of the plain
  ``ours`` merge strategy when pulling to the local clone of the
  gitolite-admin repository.  The use of ``-s ours`` was causing any updates
  to keys made by an administrator, outside of Trac, to be lost.


0.3 (2016-06-20)
================

* Initial version under new maintainer (@embray).
* Added a few new trac.ini options for values that were previously hard-coded
  in the source code (the defaults being mostly compatible with the original
  hard-coded values). [#13]
* Reworked handling of SSH keys.  The Trac plugin now creates and manages its
  own clone of the gitolite-admin repository (stored within the Trac
  environment by defaults) and commits, pulls, and pushes SSH key updates via
  that repository.  The only setup needed external to the plugin is to create
  an SSH key for the user that Trac runs under (e.g. www-data) and ensure that
  that SSH key is given R/W access to gitolite-admin on the server gitolite
  runs on. [#11]
* Links to cgit can now be accessed over HTTPS, and uses HTTPS by default.
  [#8]
